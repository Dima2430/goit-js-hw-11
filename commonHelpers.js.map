{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loaderContainer = document.querySelector('.loader');\nconst resultInfo = document.querySelector('.result-info');\nconst BASE_URL = 'https://pixabay.com/api/';\nlet lightbox;\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n    const queryInput = e.target.elements.query.value.trim();\n    if (queryInput.length < 3) {\n         iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query with at least 3 characters.',\n      position: 'topRight',\n    });\n    return;\n    }\n    gallery.innerHTML = '';\n    resultInfo.innerHTML = '';\n    getImage(queryInput).then(({ hits }) => {\n        if (hits.length > 0) {\n            const galleryHTML = hits.map(createGallery).join('');\n            gallery.innerHTML = galleryHTML;\n            resultInfo.innerHTML = `<p class=\"result-messages\">Loading images, please wait...</p>`;\n            lightbox = new SimpleLightbox(`.gallery-link`);\n            lightbox.refresh();\n            setTimeout(() => { resultInfo.innerHTML = ''; },2000)\n        }\n    })\n})\n\nfunction getImage(q) {\n    const PARAMS = {\n        key: '42392659-652aaf55959599f1a779f61b5',\n        q,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safeSearch: true,\n    }\n    const url = BASE_URL + '?' + new URLSearchParams(PARAMS).toString();\n    loaderContainer.style.display = 'block';\n    return fetch(url)\n        .then(res => res.json())\n        .catch(error => {throw error;})\n        .finally(() => {\n            loaderContainer.style.display = 'none';\n        });\n}\n\nfunction createGallery({\n  largeImageURL,\n  tags,\n  webformatURL,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n    <a href=\"${largeImageURL}\" class=\"gallery-link\">\n      <figure>\n        <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\">\n        <figcaption class=\"gallery__figcaption\">\n          <div class=\"image-item\">Likes <span class=\"image-elem\">${likes}</span></div>\n          <div class=\"image-item\">Views <span class=\"image-elem\">${views}</span></div>\n          <div class=\"image-item\">Comments <span class=\"image-elem\">${comments}</span></div>\n          <div class=\"image-item\">Downloads <span class=\"image-elem\">${downloads}</span></div>\n        </figcaption>\n      </figure>\n    </a>\n  `;\n}"],"names":["form","gallery","loaderContainer","resultInfo","BASE_URL","lightbox","e","queryInput","iziToast","getImage","hits","galleryHTML","createGallery","SimpleLightbox","q","PARAMS","url","res","error","largeImageURL","tags","webformatURL","likes","views","comments","downloads"],"mappings":"6vBAWA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAkB,SAAS,cAAc,SAAS,EAClDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAW,2BACjB,IAAIC,EAEJL,EAAK,iBAAiB,SAAUM,GAAK,CACjCA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,OAAO,SAAS,MAAM,MAAM,OACjD,GAAIC,EAAW,OAAS,EAAG,CACtBC,EAAS,QAAQ,CACpB,MAAO,UACP,QAAS,0DACT,SAAU,UAChB,CAAK,EACD,MACC,CACDP,EAAQ,UAAY,GACpBE,EAAW,UAAY,GACvBM,EAASF,CAAU,EAAE,KAAK,CAAC,CAAE,KAAAG,CAAI,IAAO,CACpC,GAAIA,EAAK,OAAS,EAAG,CACjB,MAAMC,EAAcD,EAAK,IAAIE,CAAa,EAAE,KAAK,EAAE,EACnDX,EAAQ,UAAYU,EACpBR,EAAW,UAAY,gEACvBE,EAAW,IAAIQ,EAAe,eAAe,EAC7CR,EAAS,QAAO,EAChB,WAAW,IAAM,CAAEF,EAAW,UAAY,EAAK,EAAC,GAAI,CACvD,CACT,CAAK,CACL,CAAC,EAED,SAASM,EAASK,EAAG,CACjB,MAAMC,EAAS,CACX,IAAK,qCACL,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EACf,EACKE,EAAMZ,EAAW,IAAM,IAAI,gBAAgBW,CAAM,EAAE,WACzD,OAAAb,EAAgB,MAAM,QAAU,QACzB,MAAMc,CAAG,EACX,KAAKC,GAAOA,EAAI,MAAM,EACtB,MAAMC,GAAS,CAAC,MAAMA,CAAM,CAAC,EAC7B,QAAQ,IAAM,CACXhB,EAAgB,MAAM,QAAU,MAC5C,CAAS,CACT,CAEA,SAASU,EAAc,CACrB,cAAAO,EACA,KAAAC,EACA,aAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,eACMN,CAAa;AAAA;AAAA,oBAERE,CAAY,UAAUD,CAAI;AAAA;AAAA,mEAEqBE,CAAK;AAAA,mEACLC,CAAK;AAAA,sEACFC,CAAQ;AAAA,uEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,GAKhF"}